# Circuit

Эта программа предназначена для моделирования и анализа простых электрических цепей. Она позволяет рассчитывать и визуализировать зависимости тока и напряжения на компонентах цепи от времени.

## Зависимости

- **.NET SDK** - 8.0

## Начало работы

Скачайте репозиторий с `Circuit` и перейдите в основную директорию
```bash
git clone https://github.com/Sergho/Circuit.git
cd Circuit
```

Восстановите зависимости
```bash
dotnet restore
```

Соберите проект
```bash
dotnet build
```

Запустите проект
```bash
cd circuit
dotnet run
```

## Настройка конфигурации

Конфигурирование осуществляется в клиентском файле:
`circuit/Program.cs`

### Создание нод

Для начала необходимо создать ноды, которые будут являться вершинами ориентированного графа схемы
Создание ноды осуществляется следующим образом:
```cs
solver.createNode()
```

При вызове метода `createNode` нода создаётся и получает численный идентификатор
Нумерация идентификаторов начинается с **1**

#### Пример
```cs
solver.createNode() // Id: 1
solver.createNode() // Id: 2
solver.createNode() // Id: 3
```

### Создание рёбер

Созданные ноды необходимо соединить электрическими компонентами
Для этого необходимо создать рёбра
Создание ребра осуществляется следующим образом:
```cs
solver.LinkNodes(from, to, component, currentId);
```
- `from` - идентификатор ноды, из которой идёт ребро
- `to` идентификатор ноды, в которую идёт ребро
- `component` - электрический компонент, соответствующий ребру
  - В качестве резистора можно использовать объект `new Resistor(value)`, где `value` - его сопротивление (в омах)
  - В качестве источника питания можно использовать объект `new PowerSource(value)`, где `value` - сила тока, текущая через него (в амперах)
  - В качестве конденсатора можно использовать объект `new Capacitor(value)`, где `value` - его электрическая ёмкость (в фарадах)
  - В качестве катушки индуктивности можно использовать объект `new Inductance(value)`, где `value` - её индуктивность (в генри)
- `currentId` - идентификатор тока, текущего через ребро
  - Направление тока совпадает с направлением от ноды с идентификатором `from` к ноде с идентификатором `to`
  - Указание идентификатора тока используется для указание заведомо равных токов

#### Пример
```cs
solver.LinkNodes(1, 2, new Capacitor(4), 3);
solver.LinkNodes(1, 2, new Resistor(3), 2);
solver.LinkNodes(2, 1, new PowerSource(6), 4);
solver.LinkNodes(1, 3, new Inductance(5), 1);
solver.LinkNodes(3, 2, new Resistor(2), 1);
```

### Конфигурация решения

В конструктор класса `CircuitSolver` передаётся два аргумента:
1. Список начальных значений для `X`
2. Шаг по времени `h`

#### Пример
```cs
CircuitSolver solver = new CircuitSolver(new List<double>() { 18, 0 }, 0.1);
```

## Получение результата

При запуске проекта значения векторов `X` и `Y` выводятся для каждого времени `t`, изменяющегося с шагом `h`
Графики полученных зависимостей генерируются в ходе выполнения программы и помещаются в `circuit/graphics`
Название файла с графикой имеет следующий вид:
`{Вектор}{Индекс компоненты вектора}.png`

### Примеры
- `X0.png`
- `Y2.png`
